/* Theme: Store Front Arabic RTL
   Encoding: UTF-8 (NO BOM)
   Updated: 2025-11-10
-------------------------------------------------- */

/* Variables */
:root {
  --brand: #0d6efd;
  --brand-rgb: 13,110,253;
  --accent: #f59e0b;
  --danger: #dc2626;
  --success: #16a34a;
  --info: #0ea5e9;

  --bg: #f5f7fa;
  --bg-alt: #ffffff;
  --text: #111827;
  --text-light: #6b7280;
  --border: #e2e8f0;

  --radius-sm: 6px;
  --radius: 14px;

  --shadow-sm: 0 2px 6px rgba(15,23,42,.06);
  --shadow:    0 8px 26px rgba(15,23,42,.10);

  --transition: .18s cubic-bezier(.4,.0,.2,1);
  --sidebar-width: 310px;
  --grid-gap: 1.1rem;

  /* Typography scale */
  --font-base: 15px;
  --font-sm: 13px;
  --font-lg: 17px;
  --font-xl: clamp(1.25rem, 2.4vw + .6rem, 2.25rem);
  --font-price: clamp(1.3rem, 2.6vw + .5rem, 2.4rem);

  /* Product page */
  --prod-title-weight: 800;
  --prod-price-weight: 800;
  --price-bg: #ffffff;
  --price-bg-grad: linear-gradient(135deg,#ffffff,#f0f6ff);
  --price-border: #dbe3ee;

  /* Floating bar mobile */
  --bar-bg: #ffffffcc;
  --bar-bg-dark: #1e293bcc;
}

/* Dark Mode */
html.dark {
  --bg: #0f172a;
  --bg-alt: #1e293b;
  --text: #f8fafc;
  --text-light: #94a3b8;
  --border: #334155;
  --shadow-sm: 0 2px 6px rgba(0,0,0,.4);
  --shadow:    0 8px 28px rgba(0,0,0,.55);
  --price-bg: #1e293b;
  --price-bg-grad: linear-gradient(135deg,#1e293b,#0f172a);
  --price-border: #334155;
  --bar-bg: var(--bar-bg-dark);
}

html, body {
  background: var(--bg);
  color: var(--text);
  font-family: 'Cairo','Tajawal', system-ui, -apple-system,'Segoe UI',Roboto,'Helvetica Neue',Arial,sans-serif;
  font-size: var(--font-base);
  min-height: 100%;
  scroll-behavior: smooth;
}

a { color: var(--brand); text-decoration: none; }
a:hover { text-decoration: underline; }

/* Global Layout Grid */
.page-grid { display: grid; grid-template-columns: 1fr; gap: var(--grid-gap); }
@media (min-width: 992px) {
  .page-grid { grid-template-columns: 1fr var(--sidebar-width); }
  .sidebar-col { order: 2; }
  .products-col { order: 1; }
}

/* Card Soft */
.card-soft {
  background: var(--bg-alt);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: 1rem 1.2rem;
  box-shadow: var(--shadow-sm);
  transition: var(--transition);
  position: relative;
}
.card-soft:hover { box-shadow: var(--shadow); }

/* Section Title */
.section-title {
  font-size: 1.15rem;
  font-weight: 800;
  display: flex;
  align-items: center;
  gap: .55rem;
  margin-bottom: .75rem;
  color: var(--text);
}
.section-title .sec-icon {
  background: rgba(var(--brand-rgb), .12);
  color: var(--brand);
  width: 40px; height: 40px;
  border-radius: 50%;
  display: grid; place-items: center;
  font-size: 19px;
}

/* Products Grid */
.products-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill,minmax(165px,1fr));
  gap: var(--grid-gap);
}
@media (min-width: 576px){ .products-grid{ grid-template-columns: repeat(auto-fill,minmax(180px,1fr)); } }
@media (min-width: 992px){ .products-grid{ grid-template-columns: repeat(auto-fill,minmax(190px,1fr)); } }

/* Product Card */
.product-card {
  background: var(--bg-alt);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  padding: .65rem .72rem .8rem;
  display: flex;
  flex-direction: column;
  gap: .45rem;
  position: relative;
  box-shadow: var(--shadow-sm);
  transition: var(--transition);
}
.product-card:hover { transform: translateY(-6px); box-shadow: var(--shadow); }
.product-thumb { width:100%; position:relative; padding-top:75%; border-radius: var(--radius-sm); overflow:hidden; background:#eef2f7; }
.product-thumb img { position:absolute; inset:0; width:100%; height:100%; object-fit:cover; }
.product-title {
  font-size: .92rem;
  font-weight: 700;
  color: var(--text);
  line-height: 1.3;
  min-height: 36px;
  display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden;
}
.product-cat { font-size:.7rem; color:var(--text-light); letter-spacing:.4px; }

.price-row { margin-top:auto; display:flex; align-items:center; justify-content:space-between; }
.product-price { font-weight: 800; font-size: .95rem; color: var(--brand); }
.add-btn {
  border:none; background:var(--success); color:#fff; width:36px; height:36px;
  display:grid; place-items:center; border-radius:50%; cursor:pointer; font-size:18px; transition:var(--transition);
}
.add-btn:hover { background:#128c3a; }

/* Badges */
.badge-featured, .badge-view {
  position:absolute; top:8px; left:8px;
  font-size:.65rem; font-weight:700; padding:.28rem .55rem;
  border-radius:.55rem; box-shadow:0 2px 6px rgba(0,0,0,.15); z-index:2;
}
.badge-featured { background:linear-gradient(90deg,#f59e0b,#ffce4f); color:#1e293b; }
.badge-view     { background:linear-gradient(90deg,#ef4444,#fb7185); color:#fff; }

/* Sidebar */
.sidebar-col .card-soft { padding: .95rem 1rem; }
.sidebar-group-title {
  font-size:.85rem; font-weight:700; color:var(--text-light);
  letter-spacing:.5px; margin-bottom:.65rem;
}
.most-viewed-list { display:flex; flex-direction:column; gap:.58rem; }
.mv-item {
  display:flex; gap:.65rem; align-items:center;
  background:var(--bg-alt); border:1px solid var(--border);
  border-radius: var(--radius-sm); padding:.5rem .6rem;
  transition: var(--transition); text-decoration:none; color:var(--text);
}
.mv-item:hover { background:#eef3ff; }
html.dark .mv-item:hover { background:#1e293b; }
.mv-item img { width:64px; height:50px; object-fit:cover; border-radius:.45rem; }

/* Toolbar / Counters */
.top-toolbar { display:flex; flex-wrap:wrap; gap:.8rem; align-items:center; justify-content:space-between; margin-bottom:.85rem; }
.result-count { font-size:.72rem; color:var(--text-light); }

/* Pagination */
.pagination .page-link {
  border-radius:50%; width:40px; height:40px;
  display:grid; place-items:center; font-size:.75rem;
}
.pagination .page-item.active .page-link {
  background: var(--brand); border-color: var(--brand); color:#fff;
}

/* Toggle Sidebar Mobile */
.toggle-sidebar-btn {
  position:fixed; bottom:22px; right:20px; z-index:1050;
  background:var(--brand); color:#fff; width:54px; height:54px;
  border-radius:50%; display:none; box-shadow:0 6px 18px rgba(var(--brand-rgb), .35);
  border:none; font-size:22px;
}
@media (max-width:991.98px){
  .toggle-sidebar-btn{ display:grid; place-items:center; }
  .sidebar-col{ display:none; }
  .sidebar-col.open{ display:block; }
}

/* Product Detail Page */
.product-container {
  max-width:1000px;
  margin:0 auto 2.5rem;
}
.prod-grid {
  display:grid;
  grid-template-columns:1fr;
  gap:2rem;
}
@media (min-width: 900px){
  .prod-grid { grid-template-columns: 480px 1fr; align-items:start; }
}
.prod-image-box {
  background:var(--bg-alt);
  border:1px solid var(--border);
  border-radius: var(--radius);
  padding:1rem;
  box-shadow: var(--shadow-sm);
}
.prod-image-box .main-img-wrapper {
  position:relative; width:100%; padding-top:100%;
  border-radius: var(--radius-sm); overflow:hidden;
  background:#f1f5f9;
}
.main-img-wrapper img {
  position:absolute; inset:0; width:100%; height:100%; object-fit:cover;
}

.prod-title {
  font-size: var(--font-xl);
  font-weight: var(--prod-title-weight);
  line-height:1.25;
  margin-bottom:.4rem;
  color: var(--text);
}
.prod-meta {
  font-size: .78rem;
  color: var(--text-light);
  letter-spacing:.4px;
  margin-bottom: .8rem;
}

.price-box {
  background: var(--price-bg-grad);
  border:1px solid var(--price-border);
  border-radius: var(--radius);
  padding:.9rem 1.1rem;
  display:flex;
  align-items:center;
  gap:1rem;
  margin-bottom:1.1rem;
  box-shadow: var(--shadow-sm);
}
.price-box .the-price {
  font-size: var(--font-price);
  font-weight: var(--prod-price-weight);
  color: var(--brand);
  line-height:1;
}
.price-box .stock {
  font-size:.75rem;
  color: var(--text-light);
  margin-top:.35rem;
}

.add-to-cart-form .qty-input {
  max-width:120px;
}

.description-card {
  background:var(--bg-alt);
  border:1px solid var(--border);
  border-radius: var(--radius);
  padding:1rem 1.2rem;
  line-height:1.55;
  font-size: .87rem;
  box-shadow: var(--shadow-sm);
}

/* Floating bottom bar (mobile only) */
@media (max-width: 899px){
  .mobile-buy-bar {
    position:fixed;
    left:0; right:0; bottom:0;
    background: var(--bar-bg);
    backdrop-filter: blur(10px);
    padding:.6rem .9rem;
    border-top:1px solid var(--border);
    display:flex;
    align-items:center;
    justify-content:space-between;
    z-index:1100;
  }
  html.dark .mobile-buy-bar {
    background: var(--bar-bg-dark);
  }
  .mobile-buy-bar .price-mobile {
    font-size:1.1rem;
    font-weight:800;
    color: var(--brand);
  }
  body { padding-bottom:70px; } /* مساحة تحت السقف للفوتر العائم */
}

/* Forms */
.form-select,.form-control {
  font-size:.75rem;
  border-radius: var(--radius-sm);
  border-color: var(--border);
}
.form-control:focus,.form-select:focus {
  box-shadow:0 0 0 2px rgba(var(--brand-rgb), .25);
  border-color: var(--brand);
}

/* Footer */
footer { margin-top: 3rem; font-size:.7rem; color: var(--text-light); }
/* Footer styles (append to theme.css) */
.site-footer { background: linear-gradient(180deg, var(--bg), var(--bg-alt)); color: var(--text); }


/* Footer fixes & payment icons (append to theme.css) */
/* -- Footer & BackToTop fixes (append) -- */
/* تأكد وضع هذا الجزء في أسفل theme.css */
.site-footer {
  background: linear-gradient(180deg, var(--bg), var(--bg-alt));
  color: var(--text);
  padding-bottom: 48px;
  padding-top: 28px;
}
.site-footer .payment-icon { height:28px; width:auto; display:block; }
.site-footer .social-icon { width:36px; height:36px; display:inline-grid; place-items:center; border-radius:8px; background:rgba(var(--brand-rgb),.06); color:var(--brand); text-decoration:none; }
.site-footer a { color:var(--text); opacity:.95; }
.site-footer .footer-brand p { color:var(--text-light); margin-bottom:0; }

/* Back to top button */
.back-to-top {
  position: fixed;
  right: 20px;
  width: 48px;
  height: 48px;
  border-radius: 50%;
  display: grid;
  place-items: center;
  background: var(--brand);
  color: #fff;
  border: none;
  box-shadow: 0 8px 26px rgba(var(--brand-rgb), .25);
  z-index: 1200;
  opacity: 0;
  pointer-events: none;
  transition: .25s ease, transform .18s ease;
}
.back-to-top.visible { opacity: 1; pointer-events: auto; transform: translateY(-6px); }

/* Mobile: leave room for buy-bar */
@media (max-width: 899px) {
  body { padding-bottom: 72px; } /* افتراضي — سيٌعدل بواسطة JS لو وُجد mobile-buy-bar حقيقي */
  .site-footer { padding-bottom: 84px; }
}

/* إصلاح المساحة البيضاء الكبيرة: تأكد أن no extra footer placeholder موجود */
html, body { height: auto; }

/* تحسين الشكل النهائي */
.site-footer .container { padding-left: 18px; padding-right: 18px; }


/* Scrollbar */
::-webkit-scrollbar { width: 10px; }
::-webkit-scrollbar-track { background: var(--bg); }
::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
html.dark ::-webkit-scrollbar-thumb { background: #475569; }

